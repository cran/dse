# Expecting results from 4 tests

# These set of tests will not work unless the PADI interface is
#   also installed (available at http://www.bank-banque-canada.ca/pgilbert)

#R  --vsize=6M --nsize=300K 
   require("ts",      warn.conflicts=T)
   require("dse2",    warn.conflicts=T)
   require("dsepadi", warn.conflicts=T)
   require("padi",    warn.conflicts=T)
   if (is.S()) {
	# the next 2 lines remove old versions of PADI in the search path
 	invisible(if(0!=length(grep("b*/PADI/.Data",search())))
                         detach(grep("b*/PADI/.Data",search()))  )
	attach(paste(getenv("PADI"),"/.Data", sep=""), pos=2)
	#load.padi(from=".")    # this gets the version in pwd
	load.padi()           # this gets the version indicated by PADI
	# load.padi does the following two dynamic loads 
	#dyn.load.shared("/usr/lib/libnsl.so")     # splus 3.3 on SunOS5
	# If the shared library is not loaded then the next has missing symbols
	#dyn.load(paste(getenv("PADI"),"/lib/splusclnt.o", sep=""))
	search()
   }

#    a TS PADI server is necessary for the following

   tfPADI.function.tests()
   padi.function.tests.simple(verbose=F)     # all ok
#   TSPADI.function.tests(verbose=T, ets=F)   # all ok, 
   TSPADI.function.tests(verbose=F, ets=T)   #  ets time out prob. sometimes

